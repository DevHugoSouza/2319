<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>Nosso Amor</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="background" id="bg"></div>

  <div class="pagina-livro">
    <img id="foto" src="fotos/foto1.jpg" alt="Foto do Ã¡lbum" />
    <div class="descricao" id="descricao">
        ImpossÃ­vel descrever o quanto eu amo ver vocÃª tirando fotos, a fotogrÃ¡fa mais gata que existe
    </div>
    <div class="controles">
      <button id="anterior">&#10094;</button>
      <button id="proxima">&#10095;</button>
    </div>
  </div>

  <script>
    // Fundo com imagens em mosaico
    const imagens = [
      'fotos/foto1.jpg',
      'fotos/foto2.jpg',
      'fotos/foto3.jpg',
      'fotos/foto4.jpg',
      'fotos/foto5.jpg',
      'fotos/foto6.jpg',
      'fotos/foto7.jpg',
      'fotos/foto8.jpg',
      'fotos/foto9.jpg',
      'fotos/foto10.jpg',
      'fotos/foto11.jpg',
      'fotos/foto12.jpg',
      'fotos/foto13.jpg',
    ];

    const container = document.getElementById('bg');
    const larguraImagem = window.innerWidth / 10;
    const alturaImagem = window.innerHeight / 4;

    const colunas = Math.ceil(window.innerWidth / larguraImagem);
    const linhas = Math.ceil(window.innerHeight / alturaImagem);
    const totalImagens = colunas * linhas + colunas;

    for (let i = 0; i < totalImagens; i++) {
      const img = document.createElement('img');
      img.src = imagens[i % imagens.length];
      container.appendChild(img);
    }

    // Ãlbum com setas e descriÃ§Ãµes
    const albuns = [
      {
        imagem: 'fotos/foto1.jpg',
        descricao: 'ImpossÃ­vel descrever o quanto eu amo ver vocÃª tirando fotos, a fotogrÃ¡fa mais gata que existe'
      },
      {
        imagem: 'fotos/foto3.jpg',
        descricao: 'Nunca tomei um sorvete tÃ£o gostoso igual esse'
      },
      {
        imagem: 'fotos/foto4.jpg',
        descricao: 'Seu abraÃ§o slencia o barulho do resto do mundo'
      },
      {
        imagem: 'fotos/foto5.jpg',
        descricao: 'Nesse dia eu percebi que a gente saiu do pinterest'
      },
            {
        imagem: 'fotos/foto14.jpg',
        descricao: 'Aqui sÃ³ quero exaltar a GOSTOSA DA MINHA NAMORADA'
      },
      {
        imagem: 'fotos/foto6.jpg',
        descricao: 'Uma jovem senhora rica residente de Monte Verde que levou para casa esse humilde camponÃªs'
      },
      {
        imagem: 'fotos/foto7.jpg',
        descricao: 'VocÃª conseguiu nÃ£o sÃ³ me levar pra um festival, como me fazer adorar cada segundo lÃ¡'
      },
      {
        imagem: 'fotos/foto8.jpg',
        descricao: 'Aqui nÃ£o tem como, qualquer um fala que eu tava jogado no chÃ£o do STL e vocÃª quis tirar uma foto comigo'
      },
      {
        imagem: 'fotos/foto9.jpg',
        descricao: 'Essa foto literalmente nÃ£o precisa de legenda'
      },
      {
        imagem: 'fotos/foto10.jpg',
        descricao: 'Nesse dia eu descobri que o papel que vem em cima do lanche nÃ£o Ã© comestÃ­vel (eu acreditei que era)'
      },
      {
        imagem: 'fotos/foto11.jpg',
        descricao: 'A melhor viagem pra praia que eu jÃ¡ fiz, alÃ­ eu percebi que tudo com vocÃª se torna incrÃ­vel'
      },
      {
        imagem: 'fotos/foto12.jpg',
        descricao: 'Saudades, muitas saudades dessa viagem ðŸ¥¹ðŸ¥¹'
      },
      {
        imagem: 'fotos/foto13.jpg',
        descricao: 'Passei a gostar de quermesses quando comecei a ir com vocÃª, igual passei a gostar de shopping, cinema, centro, sabÃ¡dos, domingos, tudo'
      },
            {
        imagem: 'fotos/foto15.jpg',
        descricao: 'Obrigado por tudo meu amor, vocÃª Ã© melhor parte da minha vida, eu te amo em nÃ­veis que talvez vocÃª nunca imagine â¤ï¸â¤ï¸â¤ï¸'
      },
    ];

    let indexAtual = 0;

    const imgEl = document.getElementById('foto');
    const descEl = document.getElementById('descricao');
    const btnAnterior = document.getElementById('anterior');
    const btnProxima = document.getElementById('proxima');

    btnAnterior.addEventListener('click', () => {
  indexAtual = (indexAtual - 1 + albuns.length) % albuns.length;
  atualizarFoto();
    });

    btnProxima.addEventListener('click', () => {
    indexAtual = (indexAtual + 1) % albuns.length;
    atualizarFoto();
    });

    const foto = document.getElementById('foto');
let startX = 0;
let endX = 0;

foto.addEventListener('touchstart', e => {
  startX = e.touches[0].clientX;
});

foto.addEventListener('touchmove', e => {
  endX = e.touches[0].clientX;
});

foto.addEventListener('touchend', () => {
  handleSwipe();
});

foto.addEventListener('mousedown', e => {
  startX = e.clientX;
});

foto.addEventListener('mouseup', e => {
  endX = e.clientX;
  handleSwipe();
});

function handleSwipe() {
  const deltaX = endX - startX;
  const swipeThreshold = 50; // distÃ¢ncia mÃ­nima para considerar swipe

  if (deltaX > swipeThreshold) {
    // Swipe para a direita â†’ foto anterior
    btnAnterior.click();
  } else if (deltaX < -swipeThreshold) {
    // Swipe para a esquerda â†’ prÃ³xima foto
    btnProxima.click();
  }
  // resetar valores
  startX = 0;
  endX = 0;
}


    function atualizarFoto() {
    imgEl.classList.add('fade');
    descEl.classList.add('fade');

    setTimeout(() => {
        const atual = albuns[indexAtual];
        imgEl.src = atual.imagem;
        descEl.textContent = atual.descricao;
    }, 300);

    setTimeout(() => {
        imgEl.classList.remove('fade');
        descEl.classList.remove('fade');
    }, 600);
    }


  </script>

</body>
</html>
